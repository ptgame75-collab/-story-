<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú Story</title>
    <style>
        /* ‡§§‡§™‡§æ‡§á‡§Å‡§ï‡•ã ‡§Æ‡•Ç‡§≤ ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§ú‡§∏‡•ç‡§§‡§æ‡§ï‡•ã ‡§§‡•ç‡§Ø‡§∏‡•ç‡§§‡•à */
        :root {
            --bg-color: #f9f7f2;
            --card-bg: #ffffff;
            --text-dark: #2d2d2d;
            --accent-brown: #a68b6d;
            --success-green: #2e7d32;
            --header-bg: #fff;
        }

        /* Night Mode ‡§ï‡•ã ‡§≤‡§æ‡§ó‡§ø ‡§•‡§™‡§ø‡§è‡§ï‡•ã CSS */
        [data-theme="dark"] {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-dark: #e0e0e0;
            --header-bg: #1e1e1e;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: background 0.3s; }
        body { background-color: var(--bg-color); margin: 0; font-family: 'Georgia', serif; color: var(--text-dark); overflow-x: hidden; }

        /* Splash Loading Screen */
        #splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 10000;
        }
        .splash-text { color: white; font-size: 24px; font-weight: bold; margin-bottom: 20px; }
        .progress-box { width: 200px; height: 4px; background: #333; border-radius: 10px; overflow: hidden; }
        .progress-fill { width: 0%; height: 100%; background: #2196F3; transition: width 0.1s; }

        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 5%; background: var(--header-bg); position: sticky; top: 0; z-index: 1000; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); 
        }
        .logo-text { font-size: 22px; font-weight: bold; font-style: italic; display: flex; align-items: center; gap: 8px; }

        .tab-nav { 
            display: flex; justify-content: center; background: var(--header-bg); 
            border-bottom: 1px solid #eee; position: sticky; top: 58px; z-index: 999; 
        }
        .tab-nav div { 
            padding: 12px 25px; cursor: pointer; font-weight: bold; color: #888; 
            border-bottom: 3px solid transparent; font-size: 14px; 
        }
        .tab-nav div.active { color: var(--text-dark); border-bottom: 3px solid var(--accent-brown); }

        .main-wrapper { display: flex; width: 200vw; transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        section { width: 100vw; padding: 20px; height: calc(100vh - 110px); overflow-y: auto; -webkit-overflow-scrolling: touch; }

        .story-card { 
            background: var(--card-bg); border-radius: 25px; padding: 25px; 
            margin-bottom: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
            max-width: 650px; margin-left: auto; margin-right: auto;
        }

        /* Transition ‡§´‡§ø‡§ö‡§∞‡§ï‡•ã ‡§≤‡§æ‡§ó‡§ø ‡§•‡§™ */
        .full-content { 
            display: none; margin-top: 25px; border-top: 1px solid #eee; padding-top: 20px; 
            animation: slideIn 0.5s ease;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .badge { color: var(--accent-brown); background: #efe9e1; padding: 5px 12px; border-radius: 15px; font-size: 10px; font-weight: bold; text-transform: uppercase; }
        .story-title { font-size: 30px; margin: 15px 0; line-height: 1.3; }

        /* Bookmark Style */
        .story-text p { font-size: 18px; line-height: 1.9; text-align: justify; margin-bottom: 15px; cursor: pointer; }
        .bookmarked { background: rgba(33, 150, 243, 0.15); border-left: 4px solid #2196F3; padding-left: 10px; }

        .font-controls { display: flex; justify-content: flex-end; gap: 10px; margin-bottom: 15px; }
        .font-controls button { padding: 5px 12px; cursor: pointer; border: 1px solid #ccc; background: #fff; border-radius: 5px; font-weight: bold; }

        .quote-box { background: rgba(183, 28, 28, 0.05); padding: 20px; border-left: 5px solid #b71c1c; margin: 25px 0; font-style: italic; font-weight: bold; }
        .read-btn { width: 100%; padding: 15px; background: var(--text-dark); color: white; border: none; border-radius: 15px; font-size: 16px; font-weight: bold; cursor: pointer; }

        .author-name { font-size: 15px; color: #777; text-align: left; margin: 20px 0; font-weight: bold; border-left: 3px solid var(--accent-brown); padding-left: 10px; }
        .victory-msg { color: var(--success-green); text-align: center; font-weight: bold; font-size: 24px; margin: 30px 0 10px; }
        .thanks-msg { text-align: center; color: #555; font-size: 16px; margin-bottom: 20px; }
        
        #bookmark-alert { 
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: #2196F3; color: white; padding: 10px 20px; border-radius: 30px;
            font-size: 14px; display: none; z-index: 2000;
        }
    </style>
</head>
<body data-theme="light">

    <div id="splash">
        <div class="splash-text">‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú Story</div>
        <div class="progress-box"><div class="progress-fill" id="fill"></div></div>
    </div>

    <div id="bookmark-alert">‡§ö‡§ø‡§®‡•ç‡§π ‡§≤‡§ó‡§æ‡§á‡§Ø‡•ã (Bookmark Saved)</div>

    <header>
        <div class="logo-text">üÖ∞Ô∏è ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú Story</div>
        <button onclick="toggleTheme()" style="background:var(--text-dark); color:#fff; border:none; padding:8px 18px; border-radius:20px; font-size:12px; cursor:pointer;">Mode</button>
    </header>

    <nav class="tab-nav">
        <div id="tab0" class="active" onclick="showProfile(0)">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§ï‡§•‡§æ‡§π‡§∞‡•Ç</div>
        <div id="tab1" onclick="showProfile(1)">‡§®‡•á‡§™‡§æ‡§≤‡•Ä ‡§ï‡§•‡§æ‡§π‡§∞‡•Ç</div>
    </nav>

    <div class="main-wrapper" id="contentWrapper">
        
        <section id="hindiSection">
            <div class="story-card" id="cardS1">
                <span class="badge">Collection: Hindi</span>
                <h2 class="story-title" onclick="toggleStory('contentS1', 'btnS1')">‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•Ä ‡§≠‡§æ‡§à</h2>
                <p style="color: #666;">‡§è‡§ï ‡§≠‡§æ‡§à ‡§ï‡§æ ‡§¨‡§≤‡§ø‡§¶‡§æ‡§® ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•§</p>
                <button class="read-btn" id="btnS1" onclick="toggleStory('contentS1', 'btnS1')">Read</button>

                <div id="contentS1" class="full-content">
                    <div class="font-controls">
                        <button onclick="changeFontSize('textS1', 2)">A+</button>
                        <button onclick="changeFontSize('textS1', -2)">A-</button>
                    </div>
                    <div class="story-text" id="textS1">
                        <p onclick="mark(this, 'S1', 0)">‡§ó‡§∞‡•Ä‡§¨‡•Ä ‡§î‡§∞ ‡§∏‡§™‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§®‡•Ä‡§Ç‡§µ...</p>
                        <p onclick="mark(this, 'S1', 1)">‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§≤ ‡§™‡§π‡§≤‡•á ‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§π‡•à, ‡§è‡§ï ‡§õ‡•ã‡§ü‡•á ‡§∏‡•á ‡§ó‡§æ‡§Å‡§µ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§ú‡§Ø ‡§î‡§∞ ‡§Ö‡§ú‡§Ø ‡§®‡§æ‡§Æ ‡§ï‡•á ‡§¶‡•ã ‡§≠‡§æ‡§à ‡§∞‡§π‡§§‡•á ‡§•‡•á‡•§</p>
                        <p onclick="mark(this, 'S1', 2)">‡§µ‡§ø‡§ú‡§Ø ‡§™‡§¢‡§º‡§æ‡§à ‡§Æ‡•á‡§Ç ‡§¨‡§π‡•Å‡§§ ‡§§‡•á‡§ú ‡§•‡§æ, ‡§≤‡•á‡§ï‡§ø‡§® ‡§â‡§∏‡§®‡•á ‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§ú‡§æ‡§®‡§æ ‡§õ‡•ã‡§°‡§º ‡§¶‡§ø‡§Ø‡§æ‡•§</p>
                        </div>
                    <div class="author-name">‡§≤‡•á‡§ñ‡§ï: ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú ‡§∏‡•Å‡§®‡§æ‡§∞</div>
                    <div class="victory-msg">‡§¨‡§≤‡§ø‡§¶‡§æ‡§®</div>
                    <button onclick="clearBookmark('S1')" style="margin-top:10px; background:none; border:none; color:red; cursor:pointer;">‡§ö‡§ø‡§®‡•ç‡§π ‡§Æ‡•á‡§ü‡§æ‡§â‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
                </div>
            </div>

            </section>

        <section id="nepaliSection">
            <div class="story-card" id="cardN1">
                <span class="badge" style="background:#e1f5fe; color:#0288d1;">Collection: Nepali</span>
                <h2 class="story-title" onclick="toggleStory('contentN1', 'btnN1')">‡§¶‡§ø‡§¶‡•Ä‡§ï‡•ã ‡§∏‡§Æ‡§∞‡•ç‡§™‡§£</h2>
                <p style="color: #666;">‡§∂‡§ø‡§§‡§≤ ‡§∞ ‡§ï‡•Å‡§∏‡•Å‡§Æ: ‡§§‡•ç‡§Ø‡§æ‡§ó ‡§∞ ‡§™‡•ç‡§∞‡•á‡§Æ‡§ï‡•ã ‡§è‡§â‡§ü‡§æ ‡§Ö‡§Æ‡§∞ ‡§ó‡§æ‡§â‡§Å‡§≤‡•á ‡§ï‡§•‡§æ‡•§</p>
                <button class="read-btn" id="btnN1" onclick="toggleStory('contentN1', 'btnN1')">Read</button>

                <div id="contentN1" class="full-content">
                    <div class="story-text" id="textN1">
                        <p onclick="mark(this, 'N1', 0)">‡§™‡§π‡§æ‡§°‡§ï‡•ã ‡§ï‡§æ‡§ñ‡§Æ‡§æ ‡§è‡§â‡§ü‡§æ ‡§∏‡§æ‡§®‡•ã ‡§ó‡§æ‡§â‡§Å ‡§•‡§ø‡§Ø‡•ã...</p>
                        <p onclick="mark(this, 'N1', 1)">‡§ú‡•á‡§†‡•Ä ‡§¶‡§ø‡§¶‡•Ä ‡§∂‡§ø‡§§‡§≤ ‡§∂‡§æ‡§®‡•ç‡§§ ‡§•‡§ø‡§á‡§®‡•ç, ‡§∏‡§æ‡§Ø‡§¶ ‡§™‡§π‡§æ‡§°‡§ï‡§æ ‡§™‡•Å‡§∞‡§æ‡§®‡§æ ‡§¶‡•á‡§â‡§∞‡§æ‡§≤‡•Ä‡§π‡§∞‡•Ç ‡§ú‡§∏‡•ç‡§§‡•à‡•§</p>
                    </div>
                    <div class="author-name">‡§≤‡•á‡§ñ‡§ï: ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú ‡§∏‡•Å‡§®‡§æ‡§∞</div>
                    <div class="victory-msg">‡§®‡§ø‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§• ‡§™‡•ç‡§∞‡•á‡§Æ</div>
                    <button onclick="clearBookmark('N1')" style="margin-top:10px; background:none; border:none; color:red; cursor:pointer;">‡§ö‡§ø‡§®‡•ç‡§π ‡§Æ‡•á‡§ü‡§æ‡§â‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Loading Logic
        window.addEventListener('load', () => {
            let fill = document.getElementById('fill');
            let width = 0;
            let time = setInterval(() => {
                if(width >= 100) {
                    clearInterval(time);
                    document.getElementById('splash').style.display = 'none';
                    checkSavedBookmarks();
                } else {
                    width += 4;
                    fill.style.width = width + '%';
                }
            }, 50);
        });

        // Night Mode Logic
        function toggleTheme() {
            const body = document.body;
            const theme = body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }
        if(localStorage.getItem('theme')) document.body.setAttribute('data-theme', localStorage.getItem('theme'));

        // Story Toggle with Animation
        function toggleStory(contentId, btnId) {
            const content = document.getElementById(contentId);
            const btn = document.getElementById(btnId);
            if (content.style.display === "block") {
                content.style.display = "none";
                btn.innerText = "Read";
            } else {
                content.style.display = "block";
                btn.innerText = "‡§ï‡§•‡§æ ‡§≤‡•Å‡§ï‡§æ‡§â‡§®‡•Å‡§π‡•ã‡§∏‡•ç";
            }
        }

        // Bookmark Logic
        function mark(el, storyId, index) {
            // ‡§∏‡§¨‡•à‡§¨‡§æ‡§ü ‡§π‡§ü‡§æ‡§â‡§®‡•á
            const paragraphs = el.parentElement.querySelectorAll('p');
            paragraphs.forEach(p => p.classList.remove('bookmarked'));
            
            // ‡§®‡§Ø‡§æ‡§Å ‡§•‡§™‡•ç‡§®‡•á
            el.classList.add('bookmarked');
            localStorage.setItem('bookmark_' + storyId, index);
            
            // Alert ‡§¶‡•á‡§ñ‡§æ‡§â‡§®‡•á
            const alertBox = document.getElementById('bookmark-alert');
            alertBox.style.display = 'block';
            setTimeout(() => alertBox.style.display = 'none', 2000);
        }

        function checkSavedBookmarks() {
            const storyIds = ['S1', 'N1']; // ‡§Ø‡§π‡§æ‡§Å ‡§∏‡§¨‡•à ‡§ï‡§•‡§æ‡§ï‡•ã ID ‡§∞‡§æ‡§ñ‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç
            storyIds.forEach(id => {
                const savedIndex = localStorage.getItem('bookmark_' + id);
                if(savedIndex !== null) {
                    const textDiv = document.getElementById('text' + id);
                    if(textDiv) {
                        const p = textDiv.querySelectorAll('p')[savedIndex];
                        if(p) p.classList.add('bookmarked');
                    }
                }
            });
        }

        function clearBookmark(storyId) {
            localStorage.removeItem('bookmark_' + storyId);
            const paragraphs = document.getElementById('text' + storyId).querySelectorAll('p');
            paragraphs.forEach(p => p.classList.remove('bookmarked'));
            alert("‡§ö‡§ø‡§®‡•ç‡§π ‡§π‡§ü‡§æ‡§á‡§Ø‡•ã‡•§");
        }

        function showProfile(index) {
            const wrapper = document.getElementById('contentWrapper');
            wrapper.style.transform = `translateX(-${index * 100}vw)`;
            document.querySelectorAll('.tab-nav div').forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });
        }

        function changeFontSize(textId, delta) {
            const el = document.getElementById(textId);
            const style = window.getComputedStyle(el, null).getPropertyValue('font-size');
            const currentSize = parseFloat(style);
            el.style.fontSize = (currentSize + delta) + 'px';
        }

        // Swipe Logic
        let startX;
        document.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
        document.addEventListener('touchend', e => {
            let endX = e.changedTouches[0].clientX;
            if (Math.abs(startX - endX) > 80) {
                if (startX - endX > 80) showProfile(1);
                if (endX - startX > 80) showProfile(0);
            }
        });
    </script>
</body>
</html>
