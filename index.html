<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú Story</title>
    <style>
        :root {
            --bg-color: #f4f7f6;
            --card-bg: rgba(255, 255, 255, 0.7);
            --text-dark: #2d2d2d;
            --accent-brown: #a68b6d;
            --nav-bg: #ffffff;
            --loading-bg: #000000;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --card-bg: rgba(40, 40, 40, 0.7);
            --text-dark: #e0e0e0;
            --nav-bg: #1e1e1e;
            --accent-brown: #d4b499;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; transition: background 0.3s ease; }
        body { background-color: var(--bg-color); margin: 0; font-family: 'Georgia', serif; color: var(--text-dark); overflow-x: hidden; }

        /* Loading Screen */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--loading-bg); display: flex; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
        }
        .splash-logo { color: white; font-size: 28px; font-weight: bold; margin-bottom: 20px; letter-spacing: 2px; }
        .progress-container { width: 60%; height: 4px; background: #333; border-radius: 10px; overflow: hidden; }
        .progress-bar { width: 0%; height: 100%; background: #2196F3; transition: width 0.1s; }

        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 15px 5%; background: var(--nav-bg); position: sticky; top: 0; z-index: 1000; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); 
        }
        .logo-text { font-size: 20px; font-weight: bold; font-style: italic; }

        /* Glass Card Design */
        .story-card { 
            background: var(--card-bg); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px; padding: 20px; 
            margin: 20px auto; max-width: 600px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .tab-nav { 
            display: flex; justify-content: center; background: var(--nav-bg); 
            position: sticky; top: 56px; z-index: 999; 
        }
        .tab-nav div { padding: 15px 20px; cursor: pointer; font-weight: bold; color: #888; border-bottom: 3px solid transparent; }
        .tab-nav div.active { color: var(--text-dark); border-bottom: 3px solid var(--accent-brown); }

        /* Transition for Story Opening */
        .full-content { 
            display: none; height: 0; overflow: hidden; opacity: 0;
            transition: all 0.5s ease-in-out;
        }
        .full-content.open { display: block; height: auto; opacity: 1; margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee; }

        .story-text p { font-size: 18px; line-height: 1.8; margin-bottom: 15px; cursor: pointer; padding: 5px; border-radius: 5px; }
        .story-text p.bookmarked { background: rgba(33, 150, 243, 0.2); border-left: 4px solid #2196F3; }

        .btn-mode { background: none; border: 1px solid var(--accent-brown); color: var(--text-dark); padding: 5px 10px; border-radius: 15px; cursor: pointer; }
        .read-btn { width: 100%; padding: 12px; background: var(--text-dark); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; }
        
        .main-wrapper { display: flex; width: 200vw; transition: transform 0.4s ease; }
        section { width: 100vw; padding: 10px; height: calc(100vh - 110px); overflow-y: auto; }

        .quote-box { background: rgba(183, 28, 28, 0.1); padding: 15px; border-left: 5px solid #b71c1c; margin: 20px 0; font-style: italic; }
        .author-name { font-size: 14px; opacity: 0.8; margin: 15px 0; border-left: 3px solid var(--accent-brown); padding-left: 10px; }
        .victory-msg { text-align: center; font-weight: bold; font-size: 22px; color: var(--accent-brown); margin: 20px 0; }
        
        /* Bookmark indicator */
        .bookmark-info { font-size: 12px; color: #2196F3; display: none; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="splash-screen">
        <div class="splash-logo">ADHIRAJ STORY</div>
        <div class="progress-container"><div class="progress-bar" id="p-bar"></div></div>
    </div>

    <header>
        <div class="logo-text">üÖ∞Ô∏è ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú</div>
        <button class="btn-mode" onclick="toggleTheme()">Day/Night</button>
    </header>

    <nav class="tab-nav">
        <div id="tab0" class="active" onclick="showProfile(0)">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</div>
        <div id="tab1" onclick="showProfile(1)">‡§®‡•á‡§™‡§æ‡§≤‡•Ä</div>
    </nav>

    <div class="main-wrapper" id="contentWrapper">
        
        <section id="hindiSection">
            <div class="story-card" id="cardS1">
                <span class="bookmark-info" id="infoS1">üìç ‡§Ø‡§π‡§æ‡§Å‡§¨‡§æ‡§ü ‡§™‡§¢‡•ç‡§® ‡§¨‡§æ‡§Å‡§ï‡•Ä ‡§õ</span>
                <h2 class="story-title">‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•Ä ‡§≠‡§æ‡§à</h2>
                <p class="short-desc">‡§è‡§ï ‡§≠‡§æ‡§à ‡§ï‡§æ ‡§¨‡§≤‡§ø‡§¶‡§æ‡§® ‡§î‡§∞ ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•§</p>
                <button class="read-btn" onclick="toggleStory('contentS1', this)">Read Story</button>

                <div id="contentS1" class="full-content">
                    <div class="story-text" id="textS1">
                        <p onclick="setBookmark('S1', 0)">‡§ó‡§∞‡•Ä‡§¨‡•Ä ‡§î‡§∞ ‡§∏‡§™‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§®‡•Ä‡§Ç‡§µ...</p>
                        <p onclick="setBookmark('S1', 1)">‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§≤ ‡§™‡§π‡§≤‡•á ‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§π‡•à, ‡§è‡§ï ‡§õ‡•ã‡§ü‡•á ‡§∏‡•á ‡§ó‡§æ‡§Å‡§µ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§ú‡§Ø ‡§î‡§∞ ‡§Ö‡§ú‡§Ø ‡§®‡§æ‡§Æ ‡§ï‡•á ‡§¶‡•ã ‡§≠‡§æ‡§à ‡§∞‡§π‡§§‡•á ‡§•‡•á‡•§</p>
                        <p onclick="setBookmark('S1', 2)">‡§µ‡§ø‡§ú‡§Ø ‡§™‡§¢‡§º‡§æ‡§à ‡§Æ‡•á‡§Ç ‡§¨‡§π‡•Å‡§§ ‡§§‡•á‡§ú ‡§•‡§æ, ‡§≤‡•á‡§ï‡§ø‡§® ‡§â‡§∏‡§®‡•á ‡§∏‡•ç‡§ï‡•Ç‡§≤ ‡§ú‡§æ‡§®‡§æ ‡§õ‡•ã‡§°‡§º ‡§¶‡§ø‡§Ø‡§æ‡•§</p>
                        <div class="quote-box">"‡§¨‡§æ‡§¨‡•Ç ‡§Ö‡§ú‡§Ø, ‡§Æ‡•Å‡§ù‡•á ‡§Æ‡§æ‡§´ ‡§ï‡§∞‡§®‡§æ... ‡§Ö‡§¨ ‡§Ø‡§π '‡§ó‡§Ç‡§¶‡§æ ‡§≠‡§æ‡§à' ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§ò‡§∞ ‡§ï‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§Ü‡§è‡§ó‡§æ‡•§"</div>
                    </div>
                    <div class="author-name">‡§≤‡•á‡§ñ‡§ï: ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú ‡§∏‡•Å‡§®‡§æ‡§∞</div>
                    <div class="victory-msg">‡§¨‡§≤‡§ø‡§¶‡§æ‡§®</div>
                </div>
            </div>
            
            </section>

        <section id="nepaliSection">
            <div class="story-card" id="cardN1">
                <span class="bookmark-info" id="infoN1">üìç ‡§Ø‡§π‡§æ‡§Å‡§¨‡§æ‡§ü ‡§™‡§¢‡•ç‡§® ‡§¨‡§æ‡§Å‡§ï‡•Ä ‡§õ</span>
                <h2 class="story-title">‡§¶‡§ø‡§¶‡•Ä‡§ï‡•ã ‡§∏‡§Æ‡§∞‡•ç‡§™‡§£</h2>
                <p class="short-desc">‡§∂‡§ø‡§§‡§≤ ‡§∞ ‡§ï‡•Å‡§∏‡•Å‡§Æ: ‡§§‡•ç‡§Ø‡§æ‡§ó ‡§∞ ‡§™‡•ç‡§∞‡•á‡§Æ‡§ï‡•ã ‡§è‡§â‡§ü‡§æ ‡§Ö‡§Æ‡§∞ ‡§ó‡§æ‡§â‡§Å‡§≤‡•á ‡§ï‡§•‡§æ‡•§</p>
                <button class="read-btn" onclick="toggleStory('contentN1', this)">Read Story</button>

                <div id="contentN1" class="full-content">
                    <div class="story-text" id="textN1">
                        <p onclick="setBookmark('N1', 0)">‡§™‡§π‡§æ‡§°‡§ï‡•ã ‡§ï‡§æ‡§ñ‡§Æ‡§æ ‡§è‡§â‡§ü‡§æ ‡§∏‡§æ‡§®‡•ã ‡§ó‡§æ‡§â‡§Å ‡§•‡§ø‡§Ø‡•ã...</p>
                        <p onclick="setBookmark('N1', 1)">‡§ú‡•á‡§†‡•Ä ‡§¶‡§ø‡§¶‡•Ä ‡§∂‡§ø‡§§‡§≤ ‡§∂‡§æ‡§®‡•ç‡§§ ‡§•‡§ø‡§á‡§®‡•ç, ‡§∏‡§æ‡§Ø‡§¶ ‡§™‡§π‡§æ‡§°‡§ï‡§æ ‡§™‡•Å‡§∞‡§æ‡§®‡§æ ‡§¶‡•á‡§â‡§∞‡§æ‡§≤‡•Ä‡§π‡§∞‡•Ç ‡§ú‡§∏‡•ç‡§§‡•à‡•§</p>
                        </div>
                    <div class="author-name">‡§≤‡•á‡§ñ‡§ï: ‡§Ö‡§ß‡§ø‡§∞‡§æ‡§ú ‡§∏‡•Å‡§®‡§æ‡§∞</div>
                    <div class="victory-msg">‡§®‡§ø‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§• ‡§™‡•ç‡§∞‡•á‡§Æ</div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Loading Logic
        window.addEventListener('load', () => {
            let bar = document.getElementById('p-bar');
            let width = 0;
            let interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    document.getElementById('splash-screen').style.display = 'none';
                    loadBookmarks();
                } else {
                    width += 5;
                    bar.style.width = width + '%';
                }
            }, 50);
        });

        // Theme Toggle
        function toggleTheme() {
            const body = document.body;
            const current = body.getAttribute('data-theme');
            if (current === 'dark') {
                body.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        }

        // Apply saved theme on load
        if(localStorage.getItem('theme') === 'dark') document.body.setAttribute('data-theme', 'dark');

        // Toggle Story Opening
        function toggleStory(id, btn) {
            const content = document.getElementById(id);
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                btn.innerText = "Read Story";
            } else {
                content.classList.add('open');
                btn.innerText = "Close Story";
            }
        }

        // Tab Switching
        function showProfile(index) {
            document.getElementById('contentWrapper').style.transform = `translateX(-${index * 100}vw)`;
            document.querySelectorAll('.tab-nav div').forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });
        }

        // Bookmark System
        function setBookmark(storyId, paraIndex) {
            const storyText = document.querySelector(`#content${storyId} .story-text`);
            const paras = storyText.querySelectorAll('p');
            
            // Remove old bookmarks for this story
            paras.forEach(p => p.classList.remove('bookmarked'));
            
            // Add new
            paras[paraIndex].classList.add('bookmarked');
            localStorage.setItem('bookmark_' + storyId, paraIndex);
            
            alert("‡§™‡§¢‡•ç‡§®‡•á ‡§†‡§æ‡§â‡§Å ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ó‡§∞‡§ø‡§Ø‡•ã (Bookmark Saved)!");
        }

        function loadBookmarks() {
            const stories = ['S1', 'N1']; // Add all story IDs here
            stories.forEach(id => {
                const savedIndex = localStorage.getItem('bookmark_' + id);
                if (savedIndex !== null) {
                    document.getElementById('info' + id).style.display = 'block';
                    const paras = document.querySelectorAll(`#content${id} .story-text p`);
                    if(paras[savedIndex]) paras[savedIndex].classList.add('bookmarked');
                }
            });
        }

        // Swipe Logic
        let startX;
        document.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
        document.addEventListener('touchend', e => {
            let endX = e.changedTouches[0].clientX;
            if (startX - endX > 80) showProfile(1);
            if (endX - startX > 80) showProfile(0);
        });
    </script>
</body>
</html>
