<!DOCTYPE html>
<html lang="ne">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StoryBook - Aadhiraj</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            --bg: #FAF9F6;
            --text: #000;
            --header-bg: #fff;
            --card-bg: #fff;
        }

        .dark-mode {
            --bg: #121212;
            --text: #fff;
            --header-bg: #1e1e1e;
            --card-bg: #252525;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            transition: 0.3s;
        }

        /* ‡•ß. ‡§ü‡§™ ‡§á‡§®‡•ç‡§ü‡§∞‡§´‡•á‡§∏ (‡§´‡•ã‡§ü‡•ã‡§Æ‡§æ ‡§¶‡•á‡§ñ‡§æ‡§è ‡§ú‡§∏‡•ç‡§§‡•à) */
        header {
            background: var(--header-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-section { display: flex; align-items: center; gap: 8px; font-size: 22px; font-weight: bold; }
        .nav-btns { display: flex; gap: 10px; }
        .nav-btn {
            background: #f0e6dd; border: none; padding: 8px 15px;
            border-radius: 8px; color: #8d6e63; font-weight: bold; cursor: pointer;
        }

        /* ‡•®. ‡§Æ‡•á‡§® ‡§¨‡•ç‡§Ø‡§æ‡§®‡§∞ (Stories Worth Reading) */
        .banner {
            text-align: center; padding: 40px 20px;
        }
        .collection-tag {
            background: #eee; padding: 5px 15px; border-radius: 20px;
            font-size: 14px; color: #888; font-weight: bold;
        }
        .banner h1 { font-size: 45px; margin: 20px 0 10px; line-height: 1.1; }
        .banner p { font-size: 18px; color: #555; }

        /* ‡•©. ‡§∏‡•ç‡§µ‡§æ‡§á‡§™ ‡§∏‡•á‡§ü‡§ø‡§ô (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§™‡§π‡§ø‡§≤‡•ã, ‡§®‡•á‡§™‡§æ‡§≤‡•Ä ‡§¶‡•ã‡§∏‡•ç‡§∞‡•ã) */
        .view-port { width: 100vw; overflow: hidden; }
        .swipe-wrapper {
            display: flex; width: 200vw;
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .page {
            width: 100vw; min-height: 60vh;
            padding: 10px; box-sizing: border-box;
            overflow-y: auto; /* ‡§§‡§≤ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•ã‡§≤ ‡§ó‡§∞‡•ç‡§® ‡§Æ‡§ø‡§≤‡•ç‡§®‡•á */
        }

        /* ‡•™. ‡§∏‡•ç‡§ü‡•ã‡§∞‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§° ‡§°‡§ø‡§ú‡§æ‡§á‡§® (‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§†‡•Ç‡§≤‡•ã) */
        .story-card {
            background: var(--card-bg);
            margin: 15px auto; padding: 35px 20px;
            width: 90%; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            cursor: pointer;
        }
        .story-card h2 { font-size: 32px; margin: 0; font-weight: 900; }

        /* ‡•´. ‡§∏‡•ç‡§ü‡•ã‡§∞‡•Ä ‡§∞‡§ø‡§°‡§∞ */
        #reader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 2000; display: none; overflow-y: auto;
        }
        .reader-top {
            padding: 20px; display: flex; justify-content: space-between;
            background: var(--header-bg); position: sticky; top: 0;
        }
        .content { padding: 30px; font-size: 22px; line-height: 1.7; }
        .green-msg { color: #2e7d32; font-weight: bold; font-size: 26px; margin-top: 20px; }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="splash" style="position:fixed;top:0;width:100%;height:100vh;background:#000;color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999;">
        <h1>Aadhiraj Story</h1>
    </div>

    <header>
        <div class="logo-section">
            <img src="logo.png" width="30" alt="üìñ" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3389/3389081.png'">
            StoryBook
        </div>
        <div class="nav-btns">
            <button class="nav-btn" onclick="toggleTheme()">üåô</button>
            <button class="nav-btn">Stories</button>
            <button class="nav-btn">Admin</button>
        </div>
    </header>

    <div class="banner">
        <span class="collection-tag">COLLECTION 2026</span>
        <h1>Stories Worth Reading</h1>
        <p>‡§π‡•É‡§¶‡§Ø ‡§õ‡•Å‡§®‡•á ‡§ï‡§•‡§æ‡§π‡§∞‡•Ç‡§ï‡•ã ‡§∏‡§ô‡•ç‡§ó‡•ç‡§∞‡§π‡•§</p>
    </div>

    <div class="view-port">
        <div class="swipe-wrapper" id="swipeBox">
            <div class="page" id="hindi-list">
                <center><small>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡§æ‡§Å (‚Üê ‡§®‡•á‡§™‡§æ‡§≤‡•Ä‡§ï‡§æ ‡§≤‡§æ‡§ó‡§ø ‡§∏‡•ç‡§≤‡§æ‡§á‡§° ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç)</small></center>
                </div>
            <div class="page" id="nepali-list">
                <center><small>‡§®‡•á‡§™‡§æ‡§≤‡•Ä ‡§ï‡§•‡§æ‡§π‡§∞‡•Ç (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä‡§ï‡§æ ‡§≤‡§æ‡§ó‡§ø ‚Üí ‡§∏‡•ç‡§≤‡§æ‡§á‡§° ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç)</small></center>
                </div>
        </div>
    </div>

    <div id="reader">
        <div class="reader-top">
            <button onclick="closeStory()" style="font-size:30px; border:none; background:none; color:var(--text);">‚úï</button>
            <div>
                <button onclick="zoom(-2)" style="padding:10px;">A-</button>
                <button onclick="zoom(2)" style="padding:10px;">A+</button>
            </div>
        </div>
        <div class="content" id="storyContent"></div>
    </div>

    <script>
        // ‡§∏‡•ç‡§™‡•ç‡§≤‡§æ‡§∏ ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§®
        window.onload = () => {
            setTimeout(() => document.getElementById('splash').style.display = 'none', 2000);
            loadStories();
        };

        // ‡§•‡§ø‡§Æ ‡§∏‡•ç‡§µ‡§ø‡§ö (Day/Night)
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
        }

        // ‡§∏‡•ç‡§µ‡§æ‡§á‡§™ ‡§ú‡•á‡§∏‡•ç‡§ö‡§∞ (Swipe Between Hindi & Nepali)
        let startX = 0;
        const swipeBox = document.getElementById('swipeBox');

        swipeBox.addEventListener('touchstart', e => startX = e.touches[0].clientX);
        swipeBox.addEventListener('touchend', e => {
            let diff = startX - e.changedTouches[0].clientX;
            if (diff > 80) swipeBox.style.transform = 'translateX(-100vw)'; // To Nepali
            if (diff < -80) swipeBox.style.transform = 'translateX(0vw)'; // To Hindi
        });

        // ‡§ï‡§•‡§æ‡§π‡§∞‡•Ç ‡§≤‡•ã‡§° ‡§ó‡§∞‡•ç‡§®‡•á
        async function loadStories() {
            const res = await fetch('stories.json');
            const stories = await res.json();
            
            const neList = document.getElementById('nepali-list');
            const hiList = document.getElementById('hindi-list');

            stories.forEach(s => {
                const card = `
                    <div class="story-card" onclick="openStory('${s.title}', \`${s.content}\`, '${s.author}', '${s.tag}')">
                        <h2>${s.title}</h2>
                    </div>`;
                if(s.lang === "hi") hiList.innerHTML += card;
                else neList.innerHTML += card;
            });
        }

        function openStory(title, content, author, tag) {
            document.getElementById('storyContent').innerHTML = `
                <h1 style="font-size:40px;">${title}</h1>
                <p>${content}</p>
                <hr>
                <p>‡§≤‡•á‡§ñ‡§ï: <b>${author}</b></p>
                <div class="green-msg">${tag}</div>
                <p style="text-align:center; margin-top:60px; color:gray;">Thanks for reading</p>`;
            document.getElementById('reader').style.display = 'block';
        }

        function closeStory() { document.getElementById('reader').style.display = 'none'; }
        
        let fSize = 22;
        function zoom(n) { fSize += n; document.getElementById('storyContent').style.fontSize = fSize + 'px'; }
    </script>
</body>
</html>
